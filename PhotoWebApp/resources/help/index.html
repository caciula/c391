<!DOCTYPE html PUBLIC "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=ISO-8859-1">
    <title>Help</title> 
    <style>
    div {margin-left:20px;}
</style>
</head>

<body style="padding: 20px; width: 900px;">

<a name="top"><center><h1>PhotoWeb Help</h1></center>

<hr>

<h2>Table Of Contents</h2>
<ul>
<li><a href="#intro">Introduction</a></li>
<li><a href="#instal">Installation Guide</a></li>
<li><a href="#appHelp">Application Help</a>
    <ul>
    <li><a href="#home">Home</a></li>
    <li><a href="#myProfile">My Profile</a></li>
    <li><a href="#viewImage">View Image</a></li>
    <li><a href="#editImage">Edit Image</a></li>
    <li><a href="#uploadImage">Upload Single Image</a></li>
    <li><a href="#uploadImages">Upload Multiple Images</a></li>
    <li><a href="#Search">Search For Images</a></li>
    <li><a href="#DataAnalysis">OLAP Data Analysis(Administrator Only)</a></li>
    </ul>
</li>
</ul>

<hr>

<a name="intro"><h2>Introduction</h3>
PhotoWeb is a web-based database application system that provides services for storing, sharing and searching for photos. Features of the system include:
<ul >
<li>Managing your profile - including creating groups of friends to share your photos with.</li>
<li>Uploading and storing photos, with descriptive information and access privileges.</li>
<li>Searching for photos based on keywords and date range.</li>
<li>Generating and displaying a data analysis report.</li>
</ul>

<hr>

<a name="install"><h2>Installation Guide</h3>

This guide assumes that a Tomcat server and Oracle database have been installed. See <a href="https://eclass.srv.ualberta.ca/pluginfile.php/618546/mod_page/content/11/install-tomcat_2_2.html" target="_blank">here</a> for information on how to instal Tomcat.
<p/>
Steps to install PhotoWeb:
<ol>
<li> Place PhotoWebApp.tgz in the webapps folder of your Tomcat installation. Extract the zipped folder.</li>
<li> In your Oracle account, run the sql script located in PhotoWebApp/resources/sql/setup_2012f.sql.<br> Also run additionalSQL.sql (located in the same directoy) for additional SQL commands not part of the given scheme.</li>
<li> To configure the connection to the database, open config.properties (located in PhotoWebApp/WEB-INF/classes/main/config/). Complete the username, password, dbString, and dbDriver parameters.</li>
<li> Start your Tomcat server. </li>
<li> The website will be accessible at http://{computer-name}.cs.ualberta.ca:{port-number}/PhotoWebApp </li>

</ol>

<b>Advanced Install</b>
<ul>
<li> The above steps should be sufficient to run the application without needing to recompile the Java files. If, however, there is a need to recompile the application after modifying a Java file, there is a makefile in the /PhotoWebApp directory that will compile all Java files. Before running the makefile, ensure that the following paths have been added to the CLASSPATH: 
    <ul >
    <li>/oracle/jdbc/lib/ojdbc6.jar</li>
    <li>/usr/local/catalina/lib/servlet-api.jar</li>
    <li>/usr/share/java/db.jar</li>
    <li>{TOMCAT}/catalina/webapps/PhotoWebApp/WEB-INF/lib/commons-fileupload-1.2.2.jar</li>
    <li>{TOMCAT}/catalina/webapps/PhotoWebApp/WEB-INF/classes/</li>
    </ul>
</li>
</ul>
<hr>

<a name="appHelp"><h2>Application Help</h3>

<a name="home"><h3>Home</h3>

<div>
    <b>URL:</b> /Home <br>
    <b>Screenshot:</b><br><a href="screenshots/home.jpg" target="_blank"><img src="screenshots/home.jpg" width='500px'/></a>
    <p>
    
    The Home screen is the welcome screen for the application. The screen displays the following links:
    <ul >
    <li>If the user is currently logged into the system, a link to navigate to the user's <a href="#myProfile">profile</a>.</li>
    <li>A link to navigate to the Login screen.</li>
    <li>A link to navigate to the Register screen.</li>
    <li>A link to navigate to the Search screen.</li>
    <li>If the user has a username of "admin", a link to navigate to the Data Anaysis screen.</li>
    </ul>
    
    <p/>
    In addition, this screen displays the top 5 images in the system. The top images are determined by the number of distinct users who have viewed the image. If there is a tie, all tied images are displayed. 
</div>

<a name="myProfile"><h3>My Profile</h3>

<div>
    <b>URL:</b> /ViewProfile?{username} <br>
    <b>Screenshot:</b><br><a href="screenshots/viewProfile.jpg" target="_blank"><img src="screenshots/viewProfile.jpg" width='500px'/></a>
    <p/>
    
    When a user is logged into the system, the My Profile page is the main screen from which they can perform many actions - such as managing their groups, viewing their images, and uploading new images. 
    <p/>
    The user's account information is displayed at the top of the screen - including Username, Name, Phone Number, Email, and Address.
    <p/>
    Below the account information, there is a section on <b>Group Management</b>. Groups are used to specify what users can view your uploaded images. When uploading photos, it is possible to restrict the security of an image so that only a group of users can view the image. This section of the screen displays links to:
    <ul >
        <li>Create or remove a group. </li>
        <li>Add or delete members from a group.</li>
    </ul>
    In addition, the groups that the user has already created are displayed in a table. The group name is displays on the left column of the table, while all of the members of the groups are displayed in the subsequent columns. 
    <p/>
    Below the Group Management section, there is another section for <b>Image Management</b>. Links are displayed to navigate to screens to:
    <ul >
        <li>Upload a <a href="#uploadImage">single image</a>.</li>
        <li>Upload <a href="#uploadImages">multiple images at once</a>.</li>
    </ul>    
    All of the images that the user has uploaded are also displayed with thumbnails. The thumbnails are sorted so that the most recent images are first in the list. Cicking on a thumbnail will navigate to the <a href="#viewImage">View Image</a> screen for the image, where the user can view the full image, remove the image, or edit the image information. 
</div>


<a name="viewImage"><h3>View Image</h3>

<div>
    <b>URL:</b> /ViewImage?{photoId} <br>
    <b>Screenshot:</b><br><a href="screenshots/viewImage.jpg" target="_blank"><img src="screenshots/viewImage.jpg" width='500px'/></a>
    <p/>
    
    
    The View Image screen displays information about an image. 
    The screen is only accessible under the following conditions:
    <ul >
    <li>The current user is the owner of the image.</li>
    <li>The current user is a member of a group that the image belongs too.</li>
    <li>The image is public.</li>
    </ul>
    
    If present, the screen displays information about the photo's subject, place, date, time, description and security access.
    
    If the user that is currently logged in is the owner of the image:
    <ul >
    <li>A link is displayed to navigate to the <a href="#editImage">Edit Image</a> screen, where the user can update the descriptive information about the image.</li>
    <li>A link is displayed to remove the image. Clicking this link will remove the image from the system.</li>
    <li>A link is displayed to navigate to the user's profile page.</li>
    </ul>
</div>

<a name="editImage"><h3>Edit Image</h3>
<div>
    <b>URL:</b> /EditImage?{photoId}<br>
    <b>Screenshot:</b><br><a href="screenshots/editImage.jpg" target="_blank"><img src="screenshots/editImage.jpg" width='500px'/></a>
    <p>
    
    The Edit Image screen allows a user to update the descriptive and security information about an image. 
    The screen is only accessible when the current user is the owner of the image. The image is displayed, along with input fields for Subject, Place, Date, Time, Description, and Access. The fields are populated with the image's current information.
    <p/>
    The Access drop down contains the following groups:
    <ul >
    <li>Groups that the user is a member of.</li>
    <li>Groups that the user has created themselves.</li>
    <li>Public and Private groups.</li>
    </ul>
    
    The following links are displayed at the top of the screen:
    <ul >
    <li>A link is displayed to navigate to the user's profile page.</li>
    <li>A link is displayed to return to the <a href="#viewImage">View Image</a> screen.</li>
    <li>A link is displayed to remove the image. Clicking this link will remove the image from the system.</li>
    </ul>
    
    Clicking on [Save] will update the photo's information based on the user's input and redirect to the <a href="#viewImage">View Image</a> screen. If a Date is entered, but a Time is not, then the photo is saved with a default time of 12:00. A photo must have a Date if a Time is entered, or an error will be displayed when the update occurs.
    <p/>
    Clicking on [Cancel] will redirect to the <a href="#viewImage">View Image</a> screen without updating the image's information.
    
    </ul>
</div>

<a name="uploadImage"><h3>Upload Single Image</h3>
<div>
    <b>URL:</b> /UploadImage<br>
    <b>Screenshot:</b><br><a href="screenshots/uploadImage.jpg" target="_blank"><img src="screenshots/uploadImage.jpg" width='500px'/></a>
    <p>
    
    The Upload Single Image screen allows a user to upload an image to their account. The screen is only accessible if the user is logged into the system. Input fields are displayed for the file path (opens a standard file-picker dialog), Subject, Place, Date, Time, Description, and Access. The Access field indicates what users will be able to view the image. Like the Edit Screen, the Access drop down contains the following groups:<ul >
    <li>Groups that the user is a member of.</li>
    <li>Groups that the user has created themselves.</li>
    <li>Public and Private groups.</li>
    </ul>
    
    By default, the "Private" setting is selected. If the user selects "Public" then the image will be available to all users. If the user selects "Private" then the image will only be viewable by the uploader. If the user selects a specific group, then the image will only be viewable by the members of that group. 
    <p />
    If a Date is entered, but a Time is not, then the photo is saved with a default time of 12:00. A photo must have a Date if a Time is entered, or an error will be displayed when the upload occurs. 
    
    <p/>
    
    Clicking on [Upload] will upload the photo to the database, along with the additional image information. If there are any errors during the upload (such as an invalid image file, or an incorrect date), the user is shown an error message. If the file uploads successfully, the user is redirectd to the <a href="#viewImage">View Image</a> screen to view the upload image. 
    <p/>
</div>

<a name="uploadImages"><h3>Upload Multiple Images</h3>
<div>
    <b>URL:</b> /UploadImagesFromDir<br>
    <b>Screenshot:</b><br><a href="screenshots/uploadImagesFromDir.jpg" target="_blank"><img src="screenshots/uploadImagesFromDir.jpg" width='500px'/></a>
    <p>
    
    The Upload Multiple Images screen is similar to the <a href="#uploadImage">Upload Single Image</a> screen, except that the user can select many images to upload at once. The screen is only accessible if the user is logged into the system. Input fields are displayed for the Subject, Place, Date, Time, Description, and Access. The values from these input fields will be saved to all the images that are uploaded. The Access field indicates what users will be able to view the images. The Access drop down contains the following groups:<ul >
    <li>Groups that the user is a member of.</li>
    <li>Groups that the user has created themselves.</li>
    <li>Public and Private groups.</li>
    </ul>
    
    If the user selects "Public" then the images will be available to all users. If the user selects "Private" then the images will only be viewable by the uploader. If the user selects a specific group, then the images will only be viewable by the members of that group. 
    <p />
    
    Below the input fields, an applet is displayed for the user to select a directory. Clicking "Browse" on the applet opens a dialog which allows the user to either select multiple images, or an entire directory. The select files are displayed in the applet. Files can be manually removed by clicking [Remove]
    <p />
    If a Date is entered, but a Time is not, then the photo is saved with a default time of 12:00. A photo must have a date if a time is entered, or an error will be displayed when the upload occurs.
    
    <p/>
    Clicking on [Upload] on the Applet will upload all the photos to the database, along with the additional image information. A progress bar shows the progress of the update. <b> Note that it may take some time to upload all of the images once "Upload" is clicked</b>. Be patient, and do not click "Upload" again. If the selected directory contains files that are not images, those files will not be uploaded. If there are any errors during the upload (such as an invalid image file, or an incorrect date), the user is shown an error message. If the files are uploaded successfully, the user is redirectd to the <a href="#myProfile">User Profile</a> screen to view the upload images. 
    <p/>
</div>

<a name="Search"><h3>Search The Photo Database</h3>
<div>
    <b>URL:</b> /Search<br>
    <b>Screenshot:</b><br><a href="screenshots/search.jpg" target="_blank"><img src="screenshots/search.jpg" width='500px'/></a>
    <p>
    
    The Search page presents the user with the following fields:<ul >
    <li>Keyword(s): One or more keywords for which the application will search the subject, place and description fields of each photo in the database.</li>
    <li>From Date: The earliest date for which the user would like the photos Date field to match(Optional)</li>
    <li>To Date: The latest date for which the user would like the photos Date field to match (Optional)</li>
    <li>Sort By(Drop down menu): The method by which the user would like the results to be sorted by: Relevance (ranked by occurrences of the keywords), Oldest (ranked by time ascending), Newest (ranked by time descending)</li>
    </ul>
    
    
    
    Pressing the search button with a valid query will move the user to the results screen. The results screen will display a list of thumbnails of the images matching the user's query.
    <p />
    
    Note: a Relevance search may not be done if there are now keywords submitted, an error will be generated
    <p />
    
    Note: Only images which may be viewed by the current user (based on the image's permissions) will be returned in the results.
    <p />
</div>

<a name="DataAnalysis"><h3>OLAP Data Analysis(Administrator Only)</h3>
<div>
    <b>URL:</b> /DataAnalysis<br>
    <b>Screenshot:</b><br><a href="screenshots/dataAnalysis01.jpg" target="_blank"><img src="screenshots/dataAnalysis01.jpg" width='500px'/></a>
    <br><a href="screenshots/dataAnalysis02.jpg" target="_blank"><img src="screenshots/dataAnalysis02.jpg" width='500px'/></a>
    <p>
    
    The Data Analysis page presents the Administrator with the following fields:<ul >
    <li>User: May select a report based on all users or one specific user</li>
    <li>Subject: May select a report based on all subjects or one specific subject</li>
    <li>From Date: The earliest date for which the user would like the photos Date field to match(Optional)</li>
    <li>To Date: The latest date for which the user would like the photos Date field to match (Optional)</li>
    </ul>
    
    Pressing the Generate Report button will move the Administrator to the results screen. The results screen will display an OLAP report matching the administrator's query.
    <p />
    
</div>

<p>
<a href="#top"> Go to top.</a>

</body>
</html>

